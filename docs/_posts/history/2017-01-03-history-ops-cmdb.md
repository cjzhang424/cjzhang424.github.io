---
title: CMDB 的概念、模型、实现、实施具体的进行阐释
date: 2017-01-03 14:19
excerpt: "配置管理的目的是做业务管理，资产管理的目的是做成本管理，转载至——《运维前线》"
categories:
- history
- ops
- automation
- cmdb
feature_image: "/assets/static/img/content.jpg?image=872"
---

### 配置管理和配置文件管理
ITIL 所讲的配置管理是从软件工程管理角度出发的，把一切对象都当作配置。
**配置管理和业务配置文件是不同的东西**
转载至 ——《运维前线》

### 配置管理和资产管理
   __配置管理的目的是做业务管理，资产管理的目的是做成本管理__
   ![资产管理和配置管理](/assets/static/img/资产管理和配置管理.png '资产管理和配置管理')
### 配置项
   建议从逻辑资源和物理资源两个角度来分解，然后层次化分解。
   ![配置项](/assets/static/img/配置项.png '配置项')
   - 属性
      一个配置项有N个对象，一个属性同时也可以是一个配置项，比如 IP，即是具体服务器的属性，也是做为一个资源对象存在的。
   - 模型
      模型的核心职责是把配置项和属性逐条梳理出来。
### 配置管理系统的角色
   1. 应用运维
      负责服务器上的业务信息维护
   2. 基础运维
      负责缉访、机柜及其服务器物理信息的准确性
   3. 配置管理员
      负责基础信息的维护，比如业务分类、人员信息
   4. 查询类角色，比如研发
### 配置项识别与定义
   重点工作，没有简单的方法可循，细致活儿。
   如下：
   [<img src="/assets/static/img/配置项定义.png"/>](#)

   以其中的“服务器”举例资源分解
   [<img src="/assets/static/img/配置项-服务器.png"/>](#)

   上表中需要注意的地方：
   1. 每个配置项目确定了维护角色，在后续过程中需要对这个准确性负责，确定维护的职责边界。
   2. 整理出配置项的关联，比如上表中的“所属机房”、“所属机柜”
   3. 这个表不是数据库的设计表，数据库的表结构需要参考该模型

### 基于场景的配置管理规范
   1. 配置项的规范化管理
   2. 面向配置项的流程规范化管理

   [<img src="/assets/static/img/服务器回收流程.png"/>](#)

### 状态变迁图
   用一张图来说明资源状态的变化，便于更好的基于场景和变更来控制配置项状态的变更，也就是它的生命周期。
   **把配置项的属性、流程、状态都整理清楚，最后按照这个来系统实现**
   [<img src="/assets/static/img/生命周期管理.png"/>](#)

### 实施
   - 导致 CMDB 失败的因素
      1. 缺少管理层承诺
      2. 在复杂流程上消耗太多的时间，CMDB 而非 流程系统
      3. 没有创建相应的工作指导文档
      4. 没有指定配置项负责人
      5. 目标过大，涵盖太多功能
      6. 颗粒度不合适
      7. 存在组织隔阂
   -  导致 CMDB 成功的因素
      1. 业务导向
      2. 能自动发现就自动发现，降低配置管理的成本，但自动发现的信息不能用来做告警
      3. 配置项的管理员必须全程参与，需求定型、测试及验收等
      4. CMDB 系统建设完成之后，其他系统必须联动，用场景驱动配置项的管理
      5. 流程一定要平台化，不能脱离 CMDB
      6. CMDB 持续演进，特别是云端资源的管理
      7. 配置项的流程必须文档化